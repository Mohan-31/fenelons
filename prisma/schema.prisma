// This is your Prisma schema file
generator client {
  provider = "prisma-client-js"
  output   = "../app/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Order {
  id                    String   @id @default(cuid())
  stripePaymentIntentId String   @unique
  customerName          String
  customerPhone         String
  customerEmail         String
  pickupDate            DateTime
  meatType              String   
  weight                String
  customWeight          String?
  cut                   String
  notes                 String?
  depositAmount         String   @default("0") 
  amountPaid            Int      
  currency              String
  status                String   @default("paid")
  isFinished            Boolean  @default(false)
  createdAt             DateTime @default(now())
}

model PasswordReset {
  id        String   @id @default(cuid())
  email     String
  token     String   @unique
  expires   DateTime
  createdAt DateTime @default(now())
}

model Admin {
  id               String @id @default(cuid())
  username         String @unique @default("admin")
  passwordHash     String
  securityQuestion String @default("What is your favorite teacher's name?")
  securityAnswer   String 
}